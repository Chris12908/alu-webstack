# Nginx SSL Termination Configuration
# Equivalent to HAproxy SSL termination setup
# This configuration listens on port 443, terminates SSL, and forwards to backend servers

# Backend web servers
upstream web-backend {
    server 18.206.159.133:80;
    server 3.83.138.174:80;
}

# HTTP to HTTPS redirect
server {
    listen 80 default_server;
    listen [::]:80 default_server;
    server_name chrism.tech www.chrism.tech;
    return 301 https://$server_name$request_uri;
}

# HTTPS server with SSL termination
server {
    listen 443 ssl http2 default_server;
    listen [::]:443 ssl http2 default_server;
    server_name chrism.tech www.chrism.tech;

    # SSL Certificate paths
    ssl_certificate /etc/letsencrypt/live/kez
